{% load static staticfiles %}
<html>
    <head>
        <title>ssh</title>
        <link rel="stylesheet" href="{% static "css/gateone.css" %}">
        <!--<link href="{% static "images/favicon.ico" %}" rel="shortcut icon" />-->
    </head>
    <body> 
        <div id="gateone_container" style="position: relative; width: 100%; height: 100%;margin: 0 auto">  
        <div id="gateone">
        </div>
        </div>
    </body>
    
    <script src="{% static "js/jquery-3.1.1.min.js" %}"></script>
    <script src="{% static "js/gateone.js" %}"></script>

    <script type="text/javascript">
        $(document).ready(function(){
            var host = 'inner.cheerl.online';
            var user = 'cheer';
            var port = 22;
            var ssh_url = 'ssh://'+user+'@'+host+':'+port;
            //var server_url = 'http://localhost:443';
            var server_url = 'http://192.168.0.102:443';
            GateOne.init({
                url:server_url,
                theme:'black',
                goDiv:'#gateone',
                disableTermTransitions:'true',  
                autoConnectURL:ssh_url,
            });

            var newTerminal = function() {
    // Introducing the superSandbox()!  Use it to wrap any code that you don't want to load until dependencies are met.
    // In this example we won't call newTerminal() until GateOne.Terminal and GateOne.Terminal.Input are loaded.
                GateOne.Base.superSandbox("NewExternalTerm", ["GateOne.Terminal", "GateOne.Terminal.Input"], function(window, undefined) {
                    var existingContainer = GateOne.Utils.getNode('#'+GateOne.prefs.prefix+'container');
                    var container = GateOne.Utils.createElement('div', {
                        'id': 'container', 'class': 'terminal', 'style': {'height': '100%', 'width': '100%'}
                    });
                    var gateone = GateOne.Utils.getNode('#gateone');
                    // Don't actually submit the form
                    if (!existingContainer) {
                            gateone.appendChild(container);
                    } else {
                            container = existingContainer;
                    }
                    // Create the new terminal
                    termNum = GateOne.Terminal.newTerminal(null, null, container); 
                    });
                };

    GateOne.Base.superSandbox(
        "GateOne.SomePlugin",
        ["GateOne", "GateOne.Net",  "GateOne.Terminal.Input", "GateOne.Terminal"],
        function(window, undefined) {
        GateOne.prefs.autoConnectURL=ssh_url;
        GateOne.prefs.fontSize="100%";
        GateOne.prefs.scrollback = 10000;  // scrollback buffer up to 10,000 lines
        GateOne.Terminal.loadFont("Source Code Pro", "150%");
        GateOne.locations; // Holds the state of all current known/open locations
    });
        });
    </script>
</html> 
